<div class="flex justify-center mt-10">
  <div class="w-full max-w-md bg-white p-6 rounded-lg shadow-md border border-gray-200">
    <h2 class="text-2xl font-semibold text-center mb-4">User Registration</h2>
    @if(successMessage != ''){
      <div class="mb-4 p-3 bg-green-100 text-green-800 rounded border border-green-300">
        {{ successMessage }}
      </div>
    }
    @if(errorMessage != ''){
      <div class="mb-4 p-3 bg-red-100 text-red-800 rounded border border-red-300">
        {{ errorMessage }}
      </div>
    }


    <form [formGroup]="registerForm" (ngSubmit)="submitForm()" class="space-y-4">
        <div>
          <label class="block mb-1 font-medium">Name</label>
          <input formControlName="username" class="w-full border px-3 py-2 rounded focus:outline-none focus:ring focus:ring-blue-300"  />
          @if (registerForm.controls['username'].touched && registerForm.controls['username'].invalid) {
           <p class="text-red-500 text-sm">Name is required</p>
          }
        </div>

        <div>
          <label class="block mb-1 font-medium">Password</label>
          <input formControlName="password" type="password"  class="w-full border px-3 py-2 rounded focus:outline-none focus:ring focus:ring-blue-300" />
          @if (registerForm.controls['password'].touched) {
            @if(registerForm.controls['password'].errors?.['required']){
              <p class="text-red-500 text-sm">Password is required</p>
            }
            @if(registerForm.controls['password']?.errors?.['minlength']){
              <p class="text-red-500 text-sm">Password minimum length should be 6</p>
            }
          }
        </div>

        <div>
          <label class="block mb-1 font-medium">Email</label>
          <input formControlName="email" type="email"  class="w-full border px-3 py-2 rounded focus:outline-none focus:ring focus:ring-blue-300" />
          @if(registerForm.controls['email'].touched && registerForm.controls['email'].invalid){
            <p class="text-red-500 text-sm">Email is required</p>
          }
        </div>

        <div>
          <label class="block mb-1 font-medium">Phone Number</label>
          <input formControlName="phoneNumber"  class="w-full border px-3 py-2 rounded focus:outline-none focus:ring focus:ring-blue-300" />
          @if (registerForm.controls['phoneNumber'].touched) {
            @if (registerForm.controls['phoneNumber'].errors?.['required']) {
              <p class="text-red-500 text-sm">Phone Number is required.</p>
            }
            @if (registerForm.controls['phoneNumber'].errors?.['pattern']) {
              <p class="text-red-500 text-sm">
                Phone Number must start with 6/7/8/9 and be 10 digits.
              </p>
            }
          }
        </div>

        <button class="w-full bg-blue-600 text-white py-2 rounded transition disabled:bg-gray-300 disabled:cursor-not-allowed"
                type="submit"
                [disabled]="registerForm.invalid || registerForm.pristine"
                >Register
        </button>

      </form>
  </div>
</div>
